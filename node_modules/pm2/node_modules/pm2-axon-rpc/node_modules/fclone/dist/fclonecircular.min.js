!function(e,n){"function"==typeof define&&define.amd?define("fclone",[],n):"object"==typeof module&&module.exports?module.exports=n():e.fclone=n()}(this,function(){"use strict";function e(t,f){if(!t||"object"!==("undefined"==typeof t?"undefined":n(t)))return t;if(t instanceof Date)return new Date(t);if("undefined"!=typeof Buffer&&Buffer.isBuffer(t))return new Buffer(t);f||(f=[]);var r=f.indexOf(t);if(~r)return f[r];if(Array.isArray(t)){f[f.length]=t;for(var o=t.length,i=-1,u=[];o>++i;){var a=f.indexOf(t);u[i]=~a?f[a]:e(t[i],f)}return u}f[f.length]=t;var c={};t instanceof Error&&(c.name=t.name,c.message=t.message,c.stack=t.stack);for(var s=Object.keys(t),y=s.length;y--;){var d=s[y],l=f.indexOf(t);c[d]=~l?f[l]:e(t[d],f)}return c}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};return e});