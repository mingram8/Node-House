!function(e,t){"function"==typeof define&&define.amd?define("fclone",[],t):"object"==typeof module&&module.exports?module.exports=t():e.fclone=t()}(this,function(){"use strict";function e(e){if(Array.isArray(e))return!0;var t=e&&e.length;return"number"==typeof t&&(0===t||t-1 in e)&&"function"==typeof e.indexOf}function t(n,o){if(!n||"object"!==("undefined"==typeof n?"undefined":r(n)))return n;if(n instanceof Date)return new Date(n);if("undefined"!=typeof Buffer&&Buffer.isBuffer(n))return new Buffer(n);switch(Object.prototype.toString.call(n)){case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":return n.subarray(0)}if(o||(o=[]),e(n)){o[o.length]=n;for(var f=n.length,a=-1,c=[];f>++a;)c[a]=~o.indexOf(n[a])?"[Circular]":t(n[a],o);return o.length&&o.length--,c}o[o.length]=n;var i={};n instanceof Error&&(i.name=n.name,i.message=n.message,i.stack=n.stack);for(var u=Object.keys(n),y=u.length;y--;){var s=u[y];i[s]=~o.indexOf(n[s])?"[Circular]":t(n[s],o)}return o.length&&o.length--,i}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};return t});