!function(e,n){"function"==typeof define&&define.amd?define("fclone",[],n):"object"==typeof module&&module.exports?module.exports=n():e.fclone=n()}(this,function(){"use strict";function e(e){if(Array.isArray(e))return!0;var n=e&&e.length;return"number"==typeof n&&(0===n||n-1 in e)&&"function"==typeof e.indexOf}function n(r,f){if(!r||"object"!==("undefined"==typeof r?"undefined":t(r)))return r;if(r instanceof Date)return new Date(r);if("undefined"!=typeof Buffer&&Buffer.isBuffer(r))return new Buffer(r);if(/\d[a-z]*Array]$/i.test(Object.prototype.toString.call(r)))return r.subarray(0);if(f||(f=[]),e(r)){f[f.length]=r;for(var o=r.length,i=-1,u=[];o>++i;)u[i]=~f.indexOf(r[i])?"[Circular]":n(r[i],f);return f.length&&f.length--,u}f[f.length]=r;var a={};r instanceof Error&&(a.name=r.name,a.message=r.message,a.stack=r.stack);for(var c=Object.keys(r),l=c.length;l--;){var y=c[l];a[y]=~f.indexOf(r[y])?"[Circular]":n(r[y],f)}return f.length&&f.length--,a}var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};return n});